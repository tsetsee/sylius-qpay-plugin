# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
parameters:

services:
    Tsetsee\SyliusQpayPlugin\Form\Type\QpayGatewayConfigurationType:
        tags:
          - { name: sylius.gateway_configuration_type, type: qpay, label: 'QPay Payment' }
          - { name: form.type }

    qpay.sylius_payment:
        class: Payum\Core\Bridge\Symfony\Builder\GatewayFactoryBuilder
        arguments: [ Tsetsee\SyliusQpayPlugin\Payum\QpayPaymentGatewayFactory ]
        tags:
          - { name: payum.gateway_factory_builder, factory: qpay }

    Tsetsee\SyliusQpayPlugin\Payum\Action\CaptureAction:
        public: true
        arguments:
            - '@logger'
        tags:
            - {name: payum.action, factory: qpay, alias: payum.action.capture}
